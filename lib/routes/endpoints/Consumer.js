"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const kafka = require("kafka-node");
const Consumer = kafka.Consumer;
const client = new kafka.KafkaClient({ kafkaHost: "127.0.0.1:9092" });
const consumer = new Consumer(client, [{ topic: "hello-world", partition: 0 }], {
    autoCommit: false
});
const receiveMsgFrom1Topic = (_, res) => {
    consumer.on("message", response => {
        process.stdout.write("\nTopic receive message by Consumer:\n");
        process.stdout.write(JSON.stringify(response, null, " ") + "\n");
        res.json({
            message: response,
            status: 200
        });
    });
};
exports.receiveMsgFrom1Topic = receiveMsgFrom1Topic;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29uc3VtZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcm91dGVzL2VuZHBvaW50cy9Db25zdW1lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLG9DQUFxQztBQUNyQyxNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO0FBQ2hDLE1BQU0sTUFBTSxHQUFHLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLENBQUM7QUFDdEUsTUFBTSxRQUFRLEdBQUcsSUFBSSxRQUFRLENBQzNCLE1BQU0sRUFDTixDQUFDLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxTQUFTLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFDeEM7SUFDRSxVQUFVLEVBQUUsS0FBSztDQUNsQixDQUNGLENBQUM7QUFFRixNQUFNLG9CQUFvQixHQUFHLENBQUMsQ0FBTSxFQUFFLEdBQVEsRUFBRSxFQUFFO0lBQ2hELFFBQVEsQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxFQUFFO1FBQ2hDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLHdDQUF3QyxDQUFDLENBQUM7UUFDL0QsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQ2pFLEdBQUcsQ0FBQyxJQUFJLENBQUM7WUFDUCxPQUFPLEVBQUUsUUFBUTtZQUNqQixNQUFNLEVBQUUsR0FBRztTQUNaLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRU8sb0RBQW9CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGthZmthID0gcmVxdWlyZShcImthZmthLW5vZGVcIik7XG5jb25zdCBDb25zdW1lciA9IGthZmthLkNvbnN1bWVyO1xuY29uc3QgY2xpZW50ID0gbmV3IGthZmthLkthZmthQ2xpZW50KHsga2Fma2FIb3N0OiBcIjEyNy4wLjAuMTo5MDkyXCIgfSk7XG5jb25zdCBjb25zdW1lciA9IG5ldyBDb25zdW1lcihcbiAgY2xpZW50LFxuICBbeyB0b3BpYzogXCJoZWxsby13b3JsZFwiLCBwYXJ0aXRpb246IDAgfV0sXG4gIHtcbiAgICBhdXRvQ29tbWl0OiBmYWxzZVxuICB9XG4pO1xuXG5jb25zdCByZWNlaXZlTXNnRnJvbTFUb3BpYyA9IChfOiBhbnksIHJlczogYW55KSA9PiB7XG4gIGNvbnN1bWVyLm9uKFwibWVzc2FnZVwiLCByZXNwb25zZSA9PiB7XG4gICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoXCJcXG5Ub3BpYyByZWNlaXZlIG1lc3NhZ2UgYnkgQ29uc3VtZXI6XFxuXCIpO1xuICAgIHByb2Nlc3Muc3Rkb3V0LndyaXRlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLCBudWxsLCBcIiBcIikgKyBcIlxcblwiKTtcbiAgICByZXMuanNvbih7XG4gICAgICBtZXNzYWdlOiByZXNwb25zZSxcbiAgICAgIHN0YXR1czogMjAwXG4gICAgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgcmVjZWl2ZU1zZ0Zyb20xVG9waWMgfTtcbiJdfQ==